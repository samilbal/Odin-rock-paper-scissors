<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
</head>

<body>
    <button id="btcRock" class='buton'>Rock!</button>
    <button id="btcPaper" class='buton'>Paper!</button>
    <button id="btcScs" class='buton'>Scissors!</button>
    <div class="results">Results:</div>
    <script>
        let compWins = 0;
        let playerWins = 0;
        const btcRock = document.getElementById("btcRock");
        const btcPaper = document.getElementById("btcPaper");
        const btcSCS = document.getElementById("btcScs");
        let btnInput = '';
        const results = document.querySelector('.results');

        btcRock.addEventListener('click', function() {
            btnInput = 'Rock';
            return btnInput;
        })
        btcRock.addEventListener('click', function() {
            game();
        })

        btcPaper.addEventListener('click', function() {
            btnInput = 'Paper';
            return btnInput;
        })
        btcPaper.addEventListener('click', function() {
            game();
        })

        btcSCS.addEventListener('click', function() {
            btnInput = 'Scissors';
            return btnInput;
        })
        btcSCS.addEventListener('click', function() {
            game();
        })

        function computerPlay() {
            let randomNumber = Math.floor(Math.random() * 3)

            if (randomNumber === 0) {
                computerMove = 'Rock'
            } else if (randomNumber === 1) {
                computerMove = 'Paper'
            } else {
                computerMove = 'Scissors'
            }
            console.log(computerMove)
            return computerMove.toLowerCase()

        }


        function playerPlay() {
            const playerMove = btnInput;
            console.log(playerMove)
            return playerMove.toLowerCase()
        }



        function round(playerMove, computerMove) {


            if (playerMove === computerMove) {
                playerWins++
                compWins++
                return console.log("tie")
            }
            if (playerMove === 'rock') {
                if (computerMove === 'paper') {
                    compWins++
                    return console.log('comp wins')
                } else {
                    playerWins++
                    return console.log('player wins')
                }
            }
            if (playerMove === 'paper') {
                if (computerMove === 'rock') {
                    playerWins++
                    return console.log("player wins")
                } else {
                    compWins++
                    return console.log("comp wins")
                }
            }

            if (playerMove === 'scissors') {
                if (computerMove === 'paper') {
                    playerWins++
                    return console.log("player wins")
                } else {
                    compWins++
                    return console.log("comp wins")
                }
            }

        }


        function anounce() {
            if (playerWins === 5) {
                alert(`THE PLAYER WINS!`)
                results.textContent = 'Results: '
                playerWins = 0;
                compWins = 0;

            } else if (compWins === 5) {
                alert('THE COMPUTER WINS!')
                results.textContent = 'Results: '
                playerWins = 0;
                compWins = 0;
            }


        }


        function game() {


            const computerMove = computerPlay()
            const playerMove = playerPlay()
            round(playerMove, computerMove)
            console.log(`Player : ${playerWins}, Computer : ${compWins}`)
            let paras = document.createElement('p');
            paras.textContent += `Player : ${playerWins}, Computer : ${compWins}`
            results.appendChild(paras);
            anounce();

        };
    </script>
</body>

</html>